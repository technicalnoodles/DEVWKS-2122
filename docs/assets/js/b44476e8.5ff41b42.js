"use strict";(self.webpackChunkdevwks_2122_docs=self.webpackChunkdevwks_2122_docs||[]).push([[92],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>g});var i=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,i,a=function(e,t){if(null==e)return{};var n,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var l=i.createContext({}),p=function(e){var t=i.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},c=function(e){var t=p(e.components);return i.createElement(l.Provider,{value:t},e.children)},d="mdxType",h={inlineCode:"code",wrapper:function(e){var t=e.children;return i.createElement(i.Fragment,{},t)}},u=i.forwardRef((function(e,t){var n=e.components,a=e.mdxType,r=e.originalType,l=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),d=p(n),u=a,g=d["".concat(l,".").concat(u)]||d[u]||h[u]||r;return n?i.createElement(g,o(o({ref:t},c),{},{components:n})):i.createElement(g,o({ref:t},c))}));function g(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var r=n.length,o=new Array(r);o[0]=u;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[d]="string"==typeof e?e:a,o[1]=s;for(var p=2;p<r;p++)o[p]=n[p];return i.createElement.apply(null,o)}return i.createElement.apply(null,n)}u.displayName="MDXCreateElement"},959:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>o,default:()=>d,frontMatter:()=>r,metadata:()=>s,toc:()=>p});var i=n(7462),a=(n(7294),n(3905));const r={sidebar_position:2},o="Webex Integration",s={unversionedId:"webex-integration",id:"webex-integration",title:"Webex Integration",description:"To be able to make an authentication request to the Webex service, we first need to create a Webex Integration. An integration allows us to authenticate a user and ask for certain permissions from the user. We may then make API requests on their behalf. After they have provided this initial access, we can then use it to authenticate the user as well.",source:"@site/docs/02-webex-integration.md",sourceDirName:".",slug:"/webex-integration",permalink:"/DEVWKS-2122/webex-integration",draft:!1,editUrl:"https://cisco.com/docs/02-webex-integration.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"Introduction",permalink:"/DEVWKS-2122/intro"},next:{title:"OAuth flow",permalink:"/DEVWKS-2122/oauth-explain"}},l={},p=[{value:"Create the Webex Integration",id:"create-the-webex-integration",level:2}],c={toc:p};function d(e){let{components:t,...r}=e;return(0,a.kt)("wrapper",(0,i.Z)({},c,r,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"webex-integration"},"Webex Integration"),(0,a.kt)("p",null,"To be able to make an authentication request to the Webex service, we first need to create a Webex Integration. An integration allows us to authenticate a user and ask for certain permissions from the user. We may then make API requests on their behalf. After they have provided this initial access, we can then use it to authenticate the user as well."),(0,a.kt)("h2",{id:"create-the-webex-integration"},"Create the Webex Integration"),(0,a.kt)("p",null,"We need to go to the Webex Developer site to sign in and then create our integration.\nFollow this ",(0,a.kt)("a",{parentName:"p",href:"https://developer.webex.com/"},"link")," to go the developer site. After this site loads, click on ",(0,a.kt)("strong",{parentName:"p"},"Log in")," on the top right and sign in with your Cisco login."),(0,a.kt)("p",null,"After getting logged in, click on the ",(0,a.kt)("strong",{parentName:"p"},"Start Building Apps")," button in the middle left side of the page."),(0,a.kt)("p",null,"It will bring you to the ",(0,a.kt)("strong",{parentName:"p"},"Create a New App")," screen.",(0,a.kt)("br",{parentName:"p"}),"\n",(0,a.kt)("img",{alt:"new app screen",src:n(710).Z,width:"1832",height:"1498"})),(0,a.kt)("p",null,"Click on the ",(0,a.kt)("strong",{parentName:"p"},"Create an Integration")," in the bottom left box to make our integration."),(0,a.kt)("p",null,"It will look the below image minus the filled in the fields:"),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"integration settings 1",src:n(7145).Z,width:"1872",height:"1438"})),(0,a.kt)("p",null,"The first radio button to ",(0,a.kt)("inlineCode",{parentName:"p"},"no")," because we will not be using this in a mobile SDK."),(0,a.kt)("p",null,"Select and Icon that you prefer."),(0,a.kt)("p",null,"Please give the Integration a name that ends with ",(0,a.kt)("inlineCode",{parentName:"p"},"dev")," so that it can easily be discerned it is for development purposes."),(0,a.kt)("p",null,"You may enter any description for this integration that you would like, but this example says it\u2019s for an example application."),(0,a.kt)("p",null,"The ",(0,a.kt)("strong",{parentName:"p"},"Redirect URI(s)")," section is very important to this workshop. The redirect URI will be used by the Integration to send the finished authentication request to. We will be using ",(0,a.kt)("inlineCode",{parentName:"p"},"localhost:5000/auth/cisco/callback")," as the value in this field."),(0,a.kt)("p",null,"It should look like the below image:\n",(0,a.kt)("img",{alt:"redirect URI",src:n(1213).Z,width:"993",height:"192"})),(0,a.kt)("p",null,"The next field are the ",(0,a.kt)("strong",{parentName:"p"},"Scopes")," these are the permissions the application will have after the user authenticates. For our application, we will be using ",(0,a.kt)("inlineCode",{parentName:"p"},"spark:all"),". Please select this scope and then we can create the integration."),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"redirect URI",src:n(1927).Z,width:"1018",height:"300"})),(0,a.kt)("p",null,"Click on ",(0,a.kt)("strong",{parentName:"p"},"Add Integration")," at the very bottom of the page. Your integration should be created, and a congratulations screen will come up."),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"redirect URI",src:n(3592).Z,width:"2046",height:"472"})),(0,a.kt)("p",null,"We need to store the WebEx integration ID and Secret in a file called ",(0,a.kt)("inlineCode",{parentName:"p"},"keys.js"),". This file is does not exist yet, but there is an example file called ",(0,a.kt)("inlineCode",{parentName:"p"},"exKey.js")," located in the ",(0,a.kt)("inlineCode",{parentName:"p"},"config")," directory.\nCopy the ",(0,a.kt)("inlineCode",{parentName:"p"},"Client ID")," from the Webex Integration and paste it between the two single quotes next to ",(0,a.kt)("inlineCode",{parentName:"p"},"ciscoClientID"),". Do the same with the ",(0,a.kt)("inlineCode",{parentName:"p"},"Client Secret"),", pasting it on the line with ",(0,a.kt)("inlineCode",{parentName:"p"},"ciscoClientSecret"),". We need to add some random text to the ",(0,a.kt)("inlineCode",{parentName:"p"},"cookieKey")," field as well. This can be anything you want to type in. The ",(0,a.kt)("inlineCode",{parentName:"p"},"cookieKey")," will be used to encrypt our session cookie later on in this workshop."),(0,a.kt)("p",null,"Now we need to rename the file to ",(0,a.kt)("inlineCode",{parentName:"p"},"keys.js"),"."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-javascript",metastring:"title='/config/keys.js' showLineNumbers",title:"'/config/keys.js'",showLineNumbers:!0},"module.exports = {\n  ciscoClientID: '',\n  ciscoClientSecret: '',\n  cookieKey: 'randomSecretKey',\n};\n")),(0,a.kt)("admonition",{type:"note"},(0,a.kt)("p",{parentName:"admonition"},"It is possible to regenerate the client secret from the Integration page.")),(0,a.kt)("p",null,"We have stored the integration data and can now explain how the OAuth flow will work."))}d.isMDXComponent=!0},3592:(e,t,n)=>{n.d(t,{Z:()=>i});const i=n.p+"assets/images/congratulations-211ed435cc5b12060613c0f9af864020.png"},7145:(e,t,n)=>{n.d(t,{Z:()=>i});const i=n.p+"assets/images/integration-settings-1-0337df7d8369cdc4d43883741fded66a.png"},710:(e,t,n)=>{n.d(t,{Z:()=>i});const i=n.p+"assets/images/new-app-select-a4ce1425ab4297499d38144a45a748ba.png"},1213:(e,t,n)=>{n.d(t,{Z:()=>i});const i=n.p+"assets/images/redirect-uri-932879de183cadd13e8c3f5344dcb12a.png"},1927:(e,t,n)=>{n.d(t,{Z:()=>i});const i=n.p+"assets/images/spark-all-53554eb28a23beda2a4525fa9109ab02.png"}}]);